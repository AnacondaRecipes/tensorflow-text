From aeda1312abacc4847d33bd0e3d98d0fa3ea42b79 Mon Sep 17 00:00:00 2001
From: Jack Olivieri <jolivieri@anaconda.com>
Date: Thu, 2 May 2024 21:30:36 +0200
Subject: [PATCH 1/6] do not pip install tensorflow

---
 oss_scripts/configure.sh | 34 +++++++++++++++++-----------------
 1 file changed, 17 insertions(+), 17 deletions(-)

diff --git a/oss_scripts/configure.sh b/oss_scripts/configure.sh
index d8501f9..8057139 100755
--- a/oss_scripts/configure.sh
+++ b/oss_scripts/configure.sh
@@ -37,23 +37,23 @@ function is_macos() {
 # Remove .bazelrc if it already exist
 [ -e .bazelrc ] && rm .bazelrc
 
-if [[ $(pip show tensorflow) == *tensorflow* ]] ||
-   [[ $(pip show tensorflow-macos) == *tensorflow-macos* ]] ||
-   [[ $(pip show tf-nightly) == *tf-nightly* ]]; then
-  echo 'Using installed tensorflow.'
-else
-  echo 'Installing tensorflow.'
-  if is_macos; then
-    #  Only Apple Silicon will be installed with tensorflow-macos.
-    if [[ x"$(arch)" == x"arm64" ]]; then
-      pip install tensorflow-macos==2.9.0
-    else
-      pip install tensorflow==2.12.0
-    fi
-  else
-    pip install tensorflow==2.12.0
-  fi
-fi
+# if [[ $(pip show tensorflow) == *tensorflow* ]] ||
+#    [[ $(pip show tensorflow-macos) == *tensorflow-macos* ]] ||
+#    [[ $(pip show tf-nightly) == *tf-nightly* ]]; then
+#   echo 'Using installed tensorflow.'
+# else
+#   echo 'Installing tensorflow.'
+#   if is_macos; then
+#     #  Only Apple Silicon will be installed with tensorflow-macos.
+#     if [[ x"$(arch)" == x"arm64" ]]; then
+#       pip install tensorflow-macos==2.9.0
+#     else
+#       pip install tensorflow==2.12.0
+#     fi
+#   else
+#     pip install tensorflow==2.12.0
+#   fi
+# fi
 
 if is_windows; then
   # ICU must be built as a static library, so the external data must be built in
-- 
2.39.3 (Apple Git-146)

